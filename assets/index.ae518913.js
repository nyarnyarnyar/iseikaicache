var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,n=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,l=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&n(e,r,t[r]);if(a)for(var r of a(t))d.call(t,r)&&n(e,r,t[r]);return e},o=(e,a)=>t(e,r(a));export function __vite_legacy_guard(){import("data:text/javascript,")}import{o as s,j as c,r as u,a as m,R as p,b as g}from"./vendor.5bfad795.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=new class{constructor(){var e,t;n(this,"symbol"!=typeof(e="list")?e+"":e,t),this.list={}}emit(e,t){if(this.list[e].length>=0){let r=this.list[e];for(let e in r)r[e](t)}}on(e,t){this.list[e]?this.list[e].push(t):this.list[e]=[t]}off(e){this.list[e]&&delete this.list[e]}};var f=[{type:"group",detail:"你的种族",groupId:1,focus:0,list:[{type:"attr",id:1,name:"魔物",detail:"你可能是史莱姆、骷髅、恶魔，并非常规意义上的类人生物，在文明地区会遭受相当程度的歧视，而在魔物的地盘上，喜欢自相残杀的魔物也不会对你表现出善意",value:-25},{type:"attr",id:2,name:"亚人",detail:"你长着犄角、蹄子等非人类特征，在文明地区受到偏见和抵制，你的寿命和健康状况也会因为血脉的冲突而受到损伤",value:-10},{type:"attr",id:3,name:"人类",detail:"你是人类社会的普通一员，年轻，稚嫩，除了青春一无所有，但青春本身就代表着无限可能，不是吗？",value:0},{type:"attr",id:4,name:"长生种",detail:"精灵，至高矮人，半龙，你生来就优于其他种族，强韧的血脉让你在魔法、工匠、剑术之中的一个或多个领域拥有极高的天赋，而且你的寿命被极大的延长",value:10},{type:"attr",id:5,name:"幻想种",detail:"你作为龙、巫妖、半神降生。天气会因为你的心情而变化，当你在大地上漫步时，周天的星相也会随之转动，短生种为了谱写史诗而踏上冒险，大多功败垂成，而你的存在本身就是一场传奇。",value:25}]},{type:"group",detail:"你的性别",focus:0,groupId:2,list:[{type:"attr",id:1,name:"无性",detail:"没有那种世俗的欲望，你觉得来一趟异世界，应该放弃被激素和肉体支配的低级冲动，投身到拯救世界的伟大事业之中",value:-10},{type:"attr",id:2,name:"保持不变",detail:"之前的性别就挺好的，没有必要更换",value:0},{type:"attr",id:3,name:"性转换",detail:"这辈子当然要尝试下不同的选择！（选择此项会得到容貌值up）",value:5},{type:"attr",id:4,name:"扶他",detail:"小孩子才做选择，大人我全都要（选择此项会得到容貌值up）",value:10},{type:"attr",id:5,name:"随意转换",detail:"你竟敢假定我的性别？（选择此项会得到容貌值大幅up）",value:15}]},{type:"group",detail:"世界局势",focus:0,groupId:3,list:[{type:"attr",id:1,name:"危在旦夕",detail:"如果没有英雄站出来力挽狂澜，你的阵营即将被摧毁",value:-20},{type:"attr",id:2,name:"颓势",detail:"大部分资源、领土都已经被敌方占领，胜利的天秤正在向对方倾斜，从一个城镇前往附近城镇的路上都会遭遇数支敌方的渗透部队",value:-10},{type:"attr",id:3,name:"普通",detail:"两大阵营在数个相持不下的战场反复拉锯，双方势力相近，谁也奈何不了谁",value:0},{type:"attr",id:4,name:"治世",detail:"“决战兵力是八十万对六十万，无论如何，优势在我”——某辎重兵总监。",value:10},{type:"attr",id:5,name:"繁盛",detail:"和平而宁静的世界，几乎没有成规模的战争——即使是在同族的诸国之间",value:20}]},{type:"group",detail:"开局设置",focus:0,groupId:4,list:[{type:"attr",id:1,name:"开局被砍头",detail:"你因为犯下重罪/被敌方俘获，正在被押付刑场斩首",value:-10},{type:"attr",id:2,name:"荒野求生",detail:"你被传送到了荒无人烟的野外，四周看不到任何文明的遗迹，只有野兽的嚎叫声",value:-5},{type:"attr",id:3,name:"正常开局",detail:"你转生到一座村落附近，身上带着三天份的干粮和一些铜币",value:0},{type:"attr",id:4,name:"勇者召唤",detail:"你作为救世主，被神官和国王在王都召唤而来，教会和王庭自然会为勇者打点好一切杂务",value:10},{type:"attr",id:5,name:"三年异界五年模拟",detail:"天界专职培训班的多名教官会对你进行长达数月的针对性训练，包括射击、刺杀、神学、魔法导论，当你踏上征途时，身心都已经准备好迎接一场富有挑战的冒险",value:20}]},{type:"group",focus:0,groupId:5,detail:"世界画风",list:[{type:"attr",id:1,name:"群星归位",detail:"所有的居民都呈现出超出人类理智的疯狂姿态，凡人只是注视就会陷入疯狂，除了悲风大帝之外，应该没人选择这个选项",value:-30},{type:"attr",id:2,name:"当代欧美游戏",detail:"被西方政治正确祸害过的悲惨世界，作为赛里斯人的你应该是接受不了的",value:-10},{type:"attr",id:3,name:"普通",detail:"当地人与地球人差不多，当然，是没有滤镜和化妆的那种，或许长生种们会更注重保养？",value:0},{type:"attr",id:4,name:"萌化补丁",detail:"当地土著的相貌在你眼中相当俊美，建筑和风景也相当漂亮，即使不外出去冒险，各个地区也能当成不错的旅游和定居低",value:10},{type:"attr",id:5,name:"少女异界",detail:"欢愉王子本人对你进行赐福，整个世界几乎是色孽的寝宫，充满了鲜花，美食和俊男美女，以及世间一切美好的东西，你几乎相信自己在天堂",value:25}]},{type:"group",focus:0,groupId:6,detail:"基础力量",list:[{type:"attr",id:1,name:"绵软无力",detail:"向所有的护甲和防具告别吧，你的身体无法承担任何重体力活，或许只能摆弄卷轴和羽毛笔",value:-5},{type:"attr",id:2,name:"普通",detail:"你的力量相当普通，如果勤加锻炼，有一天或许能负担起大型武器和超重甲",value:0},{type:"attr",id:3,name:"怪力",detail:"你可以同时挥舞两把双手武器，沉重的板甲无法拖累你的脚步，所有的行李都可以抗在自己背上",value:10},{type:"attr",id:5,name:"神之力",detail:"神界向你允诺，你在死后将成为力量之神的候选人，尘世间鲜有生物能与你的力量相提并论",value:20}]},{type:"group",focus:0,groupId:7,detail:"基础智力",list:[{type:"attr",id:1,name:"胎教肄业",detail:"阿巴阿巴，如果你足够刻苦努力，或许能掌握基本的读写能力——至于学习魔法，成为法师是肯定不行了，只能期待血脉觉醒",value:-5},{type:"attr",id:2,name:"平庸",detail:"如果，我是说如果，如果你在学校学到的东西还没忘光的话，应该可以在异世界成为抄书员或是大学讲师，否则只能放弃在异世界发起工业革命的空洞梦想了",value:0},{type:"attr",id:3,name:"聪颖",detail:"你可以轻易掌握法术，记住生僻的知识，如果愿意花费时间和辛劳，钻研材料与机械结构，或许也能从零开始制造出蒸汽机和铁路，当然，或许成为远近闻名的博学者，进而步入上流社会更为现实。",value:10},{type:"attr",id:4,name:"七窍玲珑",detail:"所有的智者都以向你请教为荣，任何魔法技艺在你眼中都如同儿戏，你就是知识与智慧的具现化",value:20}]},{type:"group",focus:0,groupId:8,detail:"基础体质",list:[{type:"attr",id:1,name:"弱不禁风",detail:"天气稍差你就会咳嗽，疫病总是能顺利找上你，或许你的余生要和草药为伴了",value:-5},{type:"attr",id:2,name:"普通",detail:"如果你被推进冰水，你可能会感冒，也可能不会",value:0},{type:"attr",id:3,name:"健壮如牛",detail:"常见的毒药对你来说危害不比啤酒更大，自动通过所有低于自身等级的即死鉴定，即使是致命伤，只要没有当场倒毙，也能在几天内恢复如初",value:10},{type:"attr",id:4,name:"生命之潮",detail:"你即使死去，旺盛的生命力也会让你的尸体从白骨中重新生成肉体，只有极为强大的魔法武器和诅咒才能彻底杀死你——不过要当心，这些东西并不罕见",value:20}]},{type:"group",focus:0,groupId:9,detail:"基础敏捷",list:[{type:"attr",id:1,name:"笨拙",detail:"你无法从事大部分精密的工作，如果你选择成为锁匠或是盗贼，那简直是一场灾难，需要相当程度的魔法道具和增益效果才能抵消你迟钝的神经系统",value:-5},{type:"attr",id:2,name:"普通",detail:"如果是哥布林弓箭手朝你放冷箭，你或许能躲开，但兽人丢出的投矛依然是个严重威胁，并且要经过专门训练才能通过地下城里的陷阱",value:0},{type:"attr",id:3,name:"轻盈如风",detail:"尽管在力量增强之前，长剑对你来说过于沉重，但比手半剑和重剑更轻的武器在你手中会化作华丽的剑刃风暴，并且常规陷阱已经对你无可奈何",value:10},{type:"attr",id:4,name:"快如惊雷",detail:"普通箭矢不仅无法命中你，甚至凡人箭手难以捕捉到你的身影，你可以在大部分范围魔法和爆炸物的缝隙中藏身，并且下雨天不用带伞",value:20}]},{type:"group",focus:0,groupId:10,detail:"基础魅力",list:[{type:"attr",id:1,name:"丑陋",detail:"你是肥宅，畏缩，阴沉，相貌丑陋，外形已经在类人生物和魔物的边缘徘徊，所有人都会不自觉的厌恶你，这不是诅咒效果，因此无法被神术净化",value:-5},{type:"attr",id:2,name:"平平无奇",detail:"平平无奇的相貌，如果其他人有一双慧眼，或许可以从你身上发掘一些闪光点——在内在美方面",value:0},{type:"attr",id:3,name:"容貌出众",detail:"你的容貌相当俊美，一些城镇的统治者规定，如果你要造访当地，必须披上面纱，否则你的美貌会引发骚乱",value:10},{type:"attr",id:4,name:"国色天香",detail:"高卢人洗劫罗马，是为了抢走你的雕像，十字军洗劫君士坦丁堡，是为了拥有你的画像，文艺复兴时代，每个画家都以临摹你的相貌为荣，每个诗人都试图称颂你的美貌，当你皱眉时，至少有一个中队的骑士愿意为你赴汤蹈火",value:20}]},{type:"group",focus:0,groupId:11,detail:"基础感知",list:[{type:"attr",id:1,name:"愚钝",detail:"你是如此感知和悟性底下且迟钝，当你的宿营地被哥布林突袭时，你是全小队最后一个发觉的，连现世都如此，更不用说感受神明的教诲与恩惠了——你永远无法掌握神术",value:-5},{type:"attr",id:2,name:"平常",detail:"你的感知普普通通，如果有盗贼试图在你面前潜行，并且灯光黑暗，那你最好贴着墙站着，并迅速准备照明手段",value:0},{type:"attr",id:3,name:"敏锐",detail:"你可以感受风的流动，当大地回春时，你是第一个知道的，你不仅能听到周遭的细响，也能感受到天界、深渊的悸动，通过与之共鸣，获得强大的神术施法能力",value:10},{type:"attr",id:4,name:"天人合一",detail:"世间的一切都逃不过你的法眼，宇宙的法则在你指尖被随意拨弄，通过冥想，你可以与整个世界交融为一体",value:20}]},{type:"group",focus:0,groupId:12,detail:"基础运气",list:[{type:"attr",id:1,name:"噩运",detail:"你打开的十个宝箱中，九个是宝箱怪，当你强化装备时，失败率会原高于理论值……或许你应该皈依幸运女神。",value:-5},{type:"attr",id:2,name:"无事发生",detail:"你是概率学的标杆，去赌场尝试手气时，依然会被庄家当成韭菜收割",value:0},{type:"attr",id:3,name:"好运连连",detail:"显然你的运气有些离谱，每次击败怪物，总能从它们身上搜到超出规格的宝藏，并且大部分赌场在把你拉黑之前，都是你的提款机",value:10},{type:"attr",id:4,name:"命运之蛇",detail:"所谓命运，不过是你手中的玩物，即使用六发全满的左轮枪顶着脑袋开火，击锤也会卡住，但请小心，捉摸不定的命运不知何时就会反噬",value:20}]},{type:"group",groupId:0,focus:0,detail:"以下为随意选择的项目",list:[]}],h=[{type:"attr",id:1,name:"全民通缉",detail:"无论是魔物还是秩序阵营都将你视为眼中钉，你的人头被悬以重赏，平时只能以假面目示人",value:-10},{type:"attr",id:2,name:"恶魔/天界凝注",detail:"有一个高等异界生物视你为肉中刺，它和它的爪牙会不遗余力的尝试穿过位面障壁，对你下毒手",value:-5},{type:"attr",id:3,name:"贵族出身",detail:"你诞生在一个贵族家庭，自幼接受良好的教育，并拥有在平民看来相当可观的资源",value:5},{type:"attr",id:4,name:"青梅竹马",detail:"你有个自幼一起长大的发小，你们感情相当好，而且她/他在长大之后，在战斗/生产的某个领域颇有天赋",value:10},{type:"attr",id:5,name:"录取通知书",detail:"你得到了帝国法师学院/神学院/骑士修会的录取通知，将有幸接受全阵营最高等的教育，并结交最为优秀的年轻人",value:10},{type:"attr",id:6,name:"龙蛋",detail:"你在转生之后，手边多了一颗即将孵化的龙蛋，而龙会把出生时第一眼看到的智慧生物视为父母",value:10},{type:"attr",id:7,name:"绝世神兵",detail:"你在转生之后，手边多了一把与你灵魂绑定的定制武器，它的属性超绝，永不丢失，永不磨损，并且可以用常规附魔手段继续强化下去",value:5},{type:"attr",id:8,name:"兽化症",detail:"极度愤怒或满月时，你会变成半人半兽的怪物，力大无穷且丧失理智，在绝大部分地区，兽化症都被视为是恶魔附体而遭到猎杀",value:-5},{type:"attr",id:9,name:"无尽钱袋",detail:"这个钱袋连接着其他世界古代法师帝国的金库，里面的金币大致相当于一个普通人辛苦工作一个月的工资，并且每天都会补充",value:5},{type:"attr",id:10,name:"天界军团/深渊军团",detail:"每个月一次，你可以通过漫长的咏唱和长达数小时的魔法阵绘制，召唤一支强大的异界军团来为你作战，他们会一直存在到第二天太阳升起",value:10},{type:"attr",id:11,name:"精灵之友",detail:"所有的精灵城邦都视你为准公民——即使是敌对阵营的精灵势力，也会对你保持友善",value:5},{type:"attr",id:12,name:"通晓语言",detail:"你精通大部分语言，甚至包括动物和魔法生物的，即使一棵树有了灵智，你也能与之交谈",value:5},{type:"attr",id:13,name:"不竭魔力",detail:"你的魔力无穷无尽，尽管法术威力与普通法师无异，但你的魔力值异乎寻常的高",value:10},{type:"attr",id:14,name:"被缚之神",detail:"每月随机一次，隐藏在你灵魂深处的邪灵将会苏醒，你只能眼睁睁看着自己的身体被用于制造灾难和毁灭，解除诅咒将是个漫长的过程",value:-10},{type:"attr",id:15,name:"半亡灵",detail:"你是个半亡灵，治疗法术只会伤害你，你也无法以活人使用的草药来治疗伤害，在魔法侦测中，你被显示为具有极高威胁的上位死灵，即使你的真实实力很弱",value:-5},{type:"attr",id:16,name:"末日时钟",detail:"你的身上带有一个灵魂绑定的时钟，如果时钟走到十二点，世界将会毁灭，你只能盲目的作出拯救世界的尝试，看看能不能让时针回拨",value:-10},{type:"attr",id:17,name:"剑意通玄",detail:"剑就像你的手那样，是你肢体的延伸，任何剑术你都能快速掌握，并且将其发挥到神乎其神的境界，你可以用普通的铁剑，轻易剖开全身重甲的魔物",value:10},{type:"attr",id:18,name:"龙之使徒",detail:"你和一条古龙是莫逆之交，时不时可以得到它的帮助，当然友谊是相互的，偶尔他也会向你暗示一些……回报。可以折现。",value:10},{type:"attr",id:19,name:"慢性毒素",detail:"你身上带有某种神秘的剧毒，必须每年饮用极为昂贵的药物才能压制，并且药物只能在少数几个炼金实验室中现场配置，现场服用",value:-5},{type:"attr",id:20,name:"身负巨债",detail:"你欠下相当于某个中等国家一年税收的巨款，并且你的债主极为强大，如果不想想办法，你余生都要为还债而头疼",value:-10},{type:"attr",id:21,name:"重度失眠",detail:"你罹患严重的超自然失眠症，必须在最高档的床铺上才能安然入睡，并且需要香薰和绝对的安静，而地城和野外显然不适合你休息，你只能进行一日以内的冒险，否则就只能熬夜",value:-5},{type:"attr",id:22,name:"网瘾少年",detail:"你随身携带一个量子光屏，可以浏览地球上的互联网镜像，因为是镜像，所以无法主动发送信息",value:15},{type:"attr",id:23,name:"异界豪宅",detail:"每天一次，你可以打开一扇通往半位面的门，门后是受你控制的一处悬浮虚空中的庄园，但你只能在其中停留十二小时",value:10},{type:"attr",id:24,name:"剧痛反馈",detail:"你的身体对痛苦极为敏感，麻醉剂和治疗魔法也难以缓解这种情况，即使是无关紧要的小伤口也会让你痛得直叫",value:-5},{type:"attr",id:25,name:"灵界灯塔",detail:"你的灵魂在虚空中亮得发红，魔物会不自觉的涌向你所在的区域，你定居的地方总会在短时间内成为最前线，或是被彻底摧毁",value:-5},{type:"attr",id:26,name:"随身老爷爷",detail:"你的灵魂中寄宿着古代的智者，他会在各个方面基于你指导，并且是真心的，不是为了夺取你的身体",value:10},{type:"attr",id:27,name:"二刺螈滤镜",detail:"异世界居民的画风会被转化为轻小说，猫耳娘，魅魔，精灵，应有尽有，并且不知为何，与你的性癖相当契合",value:10},{type:"attr",id:28,name:"可视化面板",detail:"你可以对自己和世界进行数据化观察，可以像rpg一样，精确看到万物的属性，并且附带一个集装箱大小的背包空间",value:10},{type:"attr",id:29,name:"异界大会员",detail:"你得到一张异界大会员优惠券，每天登陆可得一箱治疗药水（小），经验（1h）加速卡*2，不过每个月都需要付费续订（自动从你钱包扣）",value:5},{type:"attr",id:30,name:"身后事",detail:"专业机构会替你打点好后世，并用保险金照顾好你的家人和猫，并清理掉你房间、电脑和手机中的各种**",value:5},{type:"attr",id:31,name:"缺席",detail:"因为你的忽然离世，你的工作会被强压给同事，并且你的家人和朋友会非常伤心，你的猫猫一直在等你……这样做真的值得吗？",value:-5},{id:32,name:"渴血症",detail:"你每天都要饮用至少200ml新鲜类人生物血液或两倍于此的储存品，否则会营养不良，严重时会致死",value:-5},{id:33,name:"动物园与水族馆",detail:"每天早上，你会随机遇到兔子、山羊、大象、白狮子、鲸鱼中的一种。其中，兔子是最难对付的。兔子：一种长着长鼻子，生活在水中，会咩咩叫的猫科动物",value:-5},{id:34,name:"虚拟现实",detail:"其实你并没有转生异界，你正在畅游一款正在内测的次世代VR游戏。你的厕所隔间门开了。",value:-5},{id:35,name:"说不了人话",detail:"你从此无法正常说话，只能以阴阳怪气、故作艰深或是谜语人的方式发言，包括书面内容",value:-5},{id:36,name:"地主老财",detail:"你成为偏远地区某块领地的拥有者，包含数座庄园与土地，一座城堡以及对应的男爵头衔。",value:10},{id:37,name:"纯爱战士",detail:"如果你被ntr，会当场死亡。",value:-5},{id:38,name:"后宫",detail:"异界的风俗对于后宫行为并不抵触，这种行为甚至被鼓励。你很容易开后宫，并且修罗场概率大幅下降。",value:5},{id:39,name:"北京美食频道",detail:"异世界的烹饪手段极为原始，食材和调料也相当难吃，即使用尽全力改进也无济于事。怪物也很难吃，吃饭简直是一种刑罚。",value:-5},{id:40,name:"1 up",detail:"死亡后，可以用遗产来投币续命，非常昂贵且会损失经验值（记忆），谨慎使用",value:10},{id:41,name:"save/load",detail:"死亡后，可以从最近的存档点复活，但存档产生完全随机……如果卡关，可以主动放弃",value:10},{id:42,name:"篝火",detail:"死亡后，可以从最近造访的篝火复活，但篝火的使用次数是有限的，且需要强大的灵魂作为燃料",value:10},{id:43,name:"弱智光环",detail:"异界所有智慧生物都会被影响，即使最出色的个体，也只比你聪明一点。",value:10},{id:44,name:"异界电商",detail:"你可以网购地球上的各种物资，接受异界货币和物资支付，虽然汇率和手续费很贵。",value:15},{id:45,name:"脚本：虚渊玄",detail:"适合希望挑战高难度，已然放弃希望的骨灰玩家",value:-20},{id:46,name:"异界聊天群",detail:"你的意识可以连接到异界转生者的<a target='_blank' href='https://jq.qq.com/?_wv=1027&k=7S8PSHaN'>某个聊天群</a>，群里有不少经验丰富的资深者。即使你喜欢独自开荒，也可以在群里看色图。“兄弟们，这是我今天偷拍的精灵牧师洗澡.jpg”",value:10},{id:47,name:"诸神加护",detail:"异世界的强大个体（观众）一直在注视你，他们会以神谕（弹幕）启迪你，并给你恩赐（直播礼品）",value:10},{id:48,name:"你的罗马",detail:"即使在异世界，你也肩负着重建罗马的重任，你的灵魂将分裂为一个元老院，数百个破碎的灵魂会不断催促你重建罗马。一旦背离这一目标，元老们会背后给你捅刀子。",rare:2,value:10},{id:49,name:"恐虐爱猫",detail:"血神恐虐最宠爱的猫会降临到你身边，只要讨好了他，他会替你摆平一切敌人，当然，这畜生过于随心所欲，任何惹怒他的人会被毫不犹豫的咬死",rare:2,value:10},{id:50,name:"永世神选",detail:"恐虐门前耍枪，色孽床上嫖娼，奸奇窝里分赃，纳垢锅里喝汤，即使作者和编辑都杀不死你，只有主编有权限对你下手",rare:50,value:20}],y=[{type:"weapon",id:1,name:"消费主义对人的异化",detail:"“采用枭龙700飞剑处理器开发，精选512g魔素钢，经过39道工序反复折锻，精选斯堪的纳维亚顶级附魔水晶”……一把没有任何实际作用的剑，无法丢弃，你和你的队友会变成轻度购物爱好者，再也攒不下钱",value:-5},{type:"ride",id:2,name:"椰子壳",detail:"一对椰子壳，相互撞击会发出类似马蹄疾驰的声音，通过这种方式可以使你的速度、载重提升0%。你十分坚信这是一匹绝世好马，并拒绝更换其他坐骑。",value:-5},{type:"sundries",id:3,name:"区块链货币",detail:"你坚信这种神秘的硬币是无价之宝，并且价值会随时间不断推移，因此你会把至少10%的收入用于购买这种被任何其他人拒收的虚拟货币",value:-5},{type:"weapon",id:4,name:"粉红毛毛兔",detail:"概念武装，你的任何武器都会被更名为粉红毛毛兔",value:0,rare:1},{type:"armor",id:5,name:"国王铠甲",detail:"这件铠甲极为坚固，防护性能堪比神器，但它是完全透明的，并且无法和其他衣物一起穿，也不能为它上色",value:-5},{type:"sundries",id:6,name:"唠叨之书",detail:"一本古老的人皮书，每天必须把当天的冒险经历写成特定格式的工作日志（500字以上），并交给至少三人审阅通过，否则书会咬你。别试，很疼。",value:-5},{type:"sundries",id:7,name:"维生设施",detail:"一台无法启动的立式空调，你必须时刻停留在这件文明造物身边，否则会重度焦虑。空调重量是35kg，丢失后需要24小时才能刷新。",value:-5},{type:"sundries",id:8,name:"回风剑",detail:"一把极为锋利的附魔迅捷剑，威力堪比神器，赋予使用者熟练的剑术和敏捷增幅，但只要拿在手上就无法呼吸——因为剑的工作原理是把体表抽成真空",value:-5},{type:"sundries",id:9,name:"神灯",detail:"可以实现“任何愿望”的神灯，每天可以使用三次。忠告：绝对不要用，愿望会在字面意义上被实现。神灯会接受口述、笔述、心声三种许愿方式",value:-10},{type:"sundries",id:10,name:"“异界”房产证",detail:"你得到一套北京四合院/上海静安区别墅，尽管你无法使用，然而每个月都要为它支付按揭，否则会被异世界所有人视为“破产”",value:-5},{type:"sundries",id:11,name:"路灯柱",detail:"紧跟在你身后的灯柱，灯柱上必须悬挂罪有应得之人的尸体，否则你会被灯光弱化。尸体腐烂之前记得及时更新。",value:-5},{type:"armor",id:12,name:"触手铠",detail:"不知为何，好评度非常高",value:0,rare:5}];const b=e=>new Map(e.map((e=>[e.eventid||"",e])));var k,w=[{eventid:"die",title:"死亡",msg:"胜败乃兵家常事，少侠请重新来过",options:[{title:"……让我重开",feedback:()=>{window.location.reload()}}]},{eventid:"dev_notice",feedback(){if(0===H.Player.groupAttrFocusList[3])return H.addCardGroup("decapitate"),void H.drawCard("decapitate_init");H.Player.hasChoicedAttr(5),H.random()},list:[{msg:"[录取通知书]故事线测试"}]}];function L(e,t=1){let r=0;for(let a=0;a<t;a++)r+=Math.ceil(Math.random()*e);return r}function C(e,t){return L(20)+e>=t}var E=[...[{eventid:"1",title:"wao",msg:()=>1===H.Player.raceLV?"遭遇史莱姆。史莱姆察觉到你也是魔物，很自觉给你让出了道[身为魔物]":"遭遇史莱姆",options:[{title:"不费吹灰之力，你把史莱姆宰了",trigger:()=>1!==H.Player.raceLV,feedback:()=>{H.random()}},{title:"“都不容易”",trigger:()=>1===H.Player.raceLV,feedback:()=>{H.writeLog("你放过了这只史莱姆"),H.random()}},{title:"杀！",trigger:()=>1===H.Player.raceLV,feedback:()=>{H.writeLog("史莱姆：“煮豆烧豆杆，豆在锅里喊，都是一个爹，为啥要杀俺？”"),H.writeLog("“谁tm和你一个爹？”"),H.random()}}]},{eventid:"2",title:"随机事件2",msg:"遭遇精英史莱姆",rare:1,options:[{title:()=>`这只史莱姆看起来很${Math.random()>.9?"强":"弱"}`,feedback:()=>{Math.random()>.98?H.fireEvent("die"):H.random()}}]},{eventid:"3",title:"你发现这里的史莱姆杀来杀去都杀不光",msg:"你发现这里的史莱姆杀来杀去都杀不光，这里只有史莱姆，垃圾游戏",rare:10,options:[{title:"至少给两个哥布林啊！",feedback:()=>{H.random()}}]},{eventid:"6",trigger:()=>!1,msg:"疲惫抓住了你，你累了，该睡了",options:[{msg:"躺平",feedback:()=>{H.writeLog("睡觉睡觉"),H.fireEvent("dev_notice")}}]},{eventid:"7",rare:10,trigger:()=>1===H.Player.raceLV,msg:"你的魔物之血开始沸腾，原人类的灵魂正在被这具身体抗拒……[鉴定/人物卡测试]",options:[{title:"放任灵魂中的污垢与魔物的血共鸣",feedback:()=>{H.writeLog("……你变得越来越像‘它们’了"),H.random()}},{title:"用理性和意志与血脉的本能对抗",feedback:()=>{C(H.Player.attr.wis,15)?H.writeLog("血液中的污秽突破了血脑屏障，你变得越来越像‘它们’了"):H.writeLog("你灵魂中的自性坚守住了防线"),H.random()}}]},{eventid:"8",trigger:()=>5===H.Player.raceLV,msg:"你的永恒之血开始沸腾，原人类的灵魂正在被这具身体抗拒……[鉴定/人物卡测试]",options:[{title:"放任灵魂中的污垢被神性净化",feedback:()=>{H.writeLog("……你变得越来越像‘祂们’了"),H.random()}},{title:"用理性和意志与血脉的本能对抗",feedback:()=>{H.writeLog("你灵魂中的自性坚守住了防线"),H.random()}}]}],...[{eventid:"CEquip_1",title:"随机事件4",msg:"你本想买下这匹地狱战马，但看了看手里的椰子壳，既然已有如此名驹，为何还要再浪费钱？[椰子壳][消费主义对人的异化]",rare:10,trigger:()=>!(!H.Player.hasCurserEquipment(1)||!H.Player.hasCurserEquipment(2)),options:[{title:"买个蛋",feedback:()=>{H.random()}}]},{eventid:"CEquip_2",title:"随机事件4",msg:"异界币暴跌！[区块链]",rare:1,trigger:()=>H.Player.curserEquipmentList.indexOf(3)>=0&&H.Player.curserEquipmentList.indexOf(2)>=0,options:[{title:"我就不该贪！",feedback:()=>{H.random()}}]},{eventid:"CEquip_3",title:"",msg:"异界币暴涨！[区块链]",rare:10,trigger:()=>!(!H.Player.hasCurserEquipment(2)||!H.Player.hasCurserEquipment(3)),options:[{title:"这下首付有了！",feedback:()=>{H.random()}}]},{eventid:"CEquip_4",title:"",msg:"现在粉红毛毛兔的威名，已经在魔物中传开了[粉红毛毛兔]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(4),options:[{title:"真的不能改名吗？",feedback:()=>{H.random()}}]},{eventid:"CEquip_5",msg:"有个小哥布林指着你说：你为什么什么都没穿啊？[国王铠甲]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(5),options:[{title:"“这是胎教肄业的蠢货看不到的上等铠甲哦。”",feedback:()=>{H.random()}}]},{eventid:"CEquip_6",msg:"你今天上交的工作周报查重率不达标，被书狠狠的咬了一口[唠叨之书]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(6),options:[{title:"“我真的编不出来了！杀史莱姆到底要怎么写满五百字啊！”",feedback:()=>{H.random()}}]},{eventid:"CEquip_6.1",msg:"[唠叨之书]主管要给你这季度绩效C，但[国王之铠]经理保住了你",rare:10,trigger:()=>!(!H.Player.hasCurserEquipment(5)||!H.Player.hasCurserEquipment(6)),options:[{title:"“看不懂地下城政治，但我大受震撼。”",feedback:()=>{H.random()}}]},{eventid:"CEquip_8",msg:"因为长时间憋气，你逐渐忘记怎么呼吸了[回风剑]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(8),options:[{title:"“靠，快上呼吸机！”",feedback:()=>{H.random()}}]},{eventid:"CEquip_9",msg:"你今天的问题是，询问三个终极问题：早饭吃什么，午饭吃什么，晚饭吃什么[神灯]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(9),options:[{title:"吃汉堡王",feedback:()=>{H.random()}},{title:"吃肯德基",feedback:()=>{H.random()}},{title:"吃麦当劳",feedback:()=>{H.random()}}]},{eventid:"CEquip_10",msg:"你觉得钱包轻了一些，一些钱不翼而飞了[异界房产证]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(10),options:[{title:"这房贷啥时候是个头啊……",feedback:()=>{H.random()}}]},{eventid:"CEquip_11",msg:"路灯上挂着的史莱姆资本家摇曳生姿，花枝乱颤[路灯柱]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(11),options:[{title:"“这个史莱姆倒卖你们部落的户籍信息给深渊！”",feedback:()=>{H.random()}}]},{eventid:"CEquip_11.1",msg:"灯柱上的尸体要腐烂了，如果再不找个罪人挂上去的话……[路灯柱]",rare:30,trigger:()=>!!H.Player.hasCurserEquipment(11),options:[{title:"“下一个是谁这么有幸，能享受老外脖子树的雅座呢？”",feedback:()=>{H.random()}},{title:"“朕非亡国之君，臣皆误国之臣……我自己上去吧。”",feedback:()=>{H.random(),H.fireEvent("die")}}]},{eventid:"CEquip_12",msg:"你爽到了[触手铠]",rare:10,trigger:()=>!!H.Player.hasCurserEquipment(12),options:[{title:"“*哔*”",feedback:()=>{H.random()}}]}],...[{eventid:"attr_1",title:"",msg:()=>`“${H.Player.name}！”你在和史莱姆对线时，忽然有人喊了你的名字，一队全副武装的冒险者不怀好意的看着你[全民公敌](可能有bug)`,rare:10,trigger:()=>!!(H.Player.hasChoicedAttr(1)&&H.Player.raceLV>1),options:[{title:"拼了！",feedback:()=>{C(15,20)?(C(15,20)&&H.writeLog("你把这帮不开眼的狠狠揍了一顿"),H.writeLog("你且战且退顺利逃出升天了"),H.random()):(H.writeLog("血模糊了你的视线……"),H.fireEvent("die"))}},{title:"你们认错人了。",feedback:()=>{H.random(),C(15,20)?(H.writeLog("你顺利的糊弄了这帮蠢货"),H.random()):C(15,20)?(C(15,20)&&H.writeLog("你把这帮不开眼的狠狠揍了一顿"),H.writeLog("你且战且退顺利逃出升天了"),H.random()):(H.writeLog("血模糊了你的视线……"),H.fireEvent("die"))}},{title:"“你们觉得我像坏人吗？[高魅力]”",trigger:()=>H.Player.attr.cha>20,feedback:()=>{H.writeLog("你是如此绚烂夺目，冒险小队目瞪口呆的放任你离开了"),H.random()}}]},{eventid:"attr_2",rare:10,trigger:()=>!!H.Player.hasChoicedAttr(2),msg:()=>{let e="天界凝注";return H.Player.raceLV>3&&(e="深渊凝注"),`你感觉到有人在盯着你[${e}]`},options:[{title:"不去管他，还能弄死我咋的？",feedback:()=>{C(H.Player.attr.wis,20)?(H.writeLog("“看吧，无事发生。”"),H.random()):(H.writeLog("你被咒杀了"),H.fireEvent("die"))}},{title:"诵经祈福[天界军团/深渊军团]",trigger:()=>H.Player.hasChoicedAttr(10),feedback:()=>{H.writeLog("“天地无极，乾坤借法！”"),H.random()}}]},{eventid:"attr_3",trigger:()=>H.Player.hasChoicedAttr(3),rare:10,message:()=>"风餐露宿的冒险生涯让贵族出身的你感到有些不适，你开始想念你在徐汇区的大平层了。[贵族出身]",options:[{title:"什么你的大平层，是房东的大平层",feedback:()=>{H.writeLog("所谓的中产阶级让你感到很失落"),H.random()}},{title:"去他妈的大平层！[异界房产证]",trigger:()=>H.Player.hasCurserEquipment(10),feedback:()=>{H.writeLog("“我要回上海！放我回上海！”"),H.random()}},{title:"“哦，亲爱的李狗蛋爵士，看在光明女神的份上，这究竟是怎么一回事呢？”[地主老财]",trigger:()=>H.Player.hasChoicedAttr(35),feedback:()=>{H.random()}}]},{eventid:"attr_4",trigger:()=>H.Player.hasChoicedAttr(4),message:"你掏出了一张画像，那是你已有婚约的青梅竹马的肖像。",rare:10,options:[{title:"“再杀几只史莱姆，我就回老家结婚。”",feedback:()=>{var e;H.writeLog("你轻轻抚摸着画像……"),(null==(e=H.Player)?void 0:e.luck)<=10&&C(15,20)&&(H.writeLog("不知道哪里飞来流矢命中了你。"),C(15,20))?H.fireEvent("die"):H.random()}},{title:"青梅竹马……什么的……早就忘记啦♥[触手铠]",trigger:()=>H.Player.hasCurserEquipment(12),feedback:()=>{H.writeLog("深渊和天界尴尬地避开了视线"),H.random()}},{title:()=>{let e="现在的我，根本不敢回去啊";return e+=H.Player.hasChoicedAttr(8)?"[兽化症]":"",e+=H.Player.hasChoicedAttr(14)?"[被缚之神]":"",e},trigger:()=>H.Player.hasChoicedAttr(8)||H.Player.hasChoicedAttr(14),feedback:()=>{H.random()}}]},{eventid:"attr_5",trigger:()=>H.Player.hasChoicedAttr(5),rare:10,msg:"你看着录取通知书发呆，因为你完全不知道要去哪里找这个“赫尔墨斯学院”。",options:[{title:"“难道要函授？”",feedback:()=>{H.writeLog("然而你没找到通讯地址"),H.random()}},{title:"“难道要网络授课？”",feedback:()=>{H.writeLog("然而互联网还没被发明"),H.random()}},{title:"“难道要梦境授课？”",feedback:()=>{H.writeLog("然而幻梦法术你还没开始学"),H.random()}},{title:"“难道是新式诈骗？”",feedback:()=>{H.writeLog("警惕新型诈骗"),H.random()}}]},{eventid:"attr_6",trigger:()=>H.Player.hasChoicedAttr(6),rare:10,msg:"龙蛋颤动着。",options:[{title:"你把龙蛋妥善的收好了",feedback:()=>{H.random()}},{title:"好喜欢……♥[触手铠]",trigger:()=>H.Player.hasCurserEquipment(12),feedback:()=>{H.writeLog("铂金龙神和五色龙后尴尬的捂住了面孔"),H.random()}}]},{eventid:"attr_7",trigger:()=>H.Player.hasChoicedAttr(7),rare:10,msg:()=>H.Player.hasCurserEquipment(4)?"你的粉红毛毛兔无需维护也能维持极为可怕的杀伤力，现在史莱姆们私底下称你为粉红毛毛兔[粉红毛毛兔][绝世神兵]":"你的武器无需维护也能维持极为可怕的杀伤力，现在史莱姆们私底下称你为胶体毁灭者[绝世神兵]",options:[{msg:"好评",feedback:()=>{H.random()}},{msg:"差评[粉红毛毛兔]",trigger:()=>H.Player.hasCurserEquipment(4),feedback:()=>{H.random()}}]},{eventid:"attr_8",trigger:()=>H.Player.hasChoicedAttr(8),rare:10,msg:"你的毛越来越多了[兽化症]",options:[{msg:"毛多弱火，小心火烛",feedback:()=>{H.random()}},{msg:"嗷呜——[被缚之神]",trigger:()=>H.Player.hasChoicedAttr(14),feedback:()=>{H.random()}}]},{eventid:"attr_8.1",trigger:()=>H.Player.hasChoicedAttr(8),rare:30,msg:"火星溅到你的毛发上，你终于还是被点着了[兽化症]",options:[{title:"“水！水！”",feedback:()=>{C(15,20)?(H.writeLog("好险"),H.random()):H.writeLog("你被烈焰吞没了")}}]},{eventid:"attr_9",trigger:()=>H.Player.hasChoicedAttr(9),rare:10,msg:"无尽钱袋一如既往的产生了新的金币，黄金的光泽令你喜悦[无尽钱袋]",options:[{title:"“不管看过多少次，依然很开心。”",feedback:()=>{H.random()}},{title:"“有没有什么办法增加产量？”",feedback:()=>{H.writeLog("“还是不要杀鸡取卵了。”"),H.random()}}]},{eventid:"attr_10",trigger:()=>H.Player.hasChoicedAttr(10),rare:10,msg:"你的异界军团向你呈交了一份军费开支清单[天界/深渊军团]",options:[{title:"“年末再统一结算吧。”",feedback:()=>{H.writeLog("你装作没看到这份邮件。"),H.random()}},{title:"“等等，你们不是自带干粮吗？”",feedback:()=>{H.writeLog("你骂骂咧咧的在支票上签了字。"),H.random()}},{title:"“国防开支不能省……”[无限钱袋]",tirgger:()=>H.Player.hasChoicedAttr(9),feedback:()=>{H.writeLog("还好你很有钱"),H.random()}}]},{eventid:"attr_11",trigger:()=>H.Player.hasChoicedAttr(11),rare:10,msg:()=>{const e=["黑暗精灵","月精灵","高等精灵"],t=["巡逻兵","探险队","旅行者"];return`一队路过的${e[Math.floor(Math.random()*e.length)]}${t[Math.floor(Math.random()*t.length)]}与你分享了她们的补给。[精灵之友]`},options:[{title:"为我们的友谊干杯！",feedback:()=>{H.random()}},{title:"为我们的……友谊♥……干杯♥[触手铠]",trigger:()=>H.Player.hasCurserEquipment(12),feedback:()=>{H.writeLog("精灵诸神尴尬的集体扭过了头"),H.random()}}]},{eventid:"attr_14",trigger:()=>H.Player.hasChoicedAttr(14),rare:10,msg:"你断片了，醒来时面前全是史莱姆的尸体[被缚之神]",options:[{title:"“又是史莱姆，敢不敢杀点别的！”",feedback:()=>{H.random()}}]},{eventid:"attr_14.1",trigger:()=>H.Player.hasChoicedAttr(14),rare:30,msg:"你断片了，醒来时周围一片狼藉，面前则站着一名重伤的恶魔领主[被缚之神]",options:[{title:"“能不能给我换成史莱姆？”",feedback:()=>{if(!C(15,20))return H.writeLog("你果然不是恶魔领主的对手"),void H.fireEvent("die");H.writeLog("你不是恶魔领主的对手，但你跑得倒是很快，顺利逃出生天了"),H.random()}}]},{eventid:"attr_15",trigger:()=>H.Player.hasChoicedAttr(15),rare:10,msg:"治疗药水对你不起作用，你的伤势过了很久还没愈合……[半亡灵]",options:[{title:"喝点酒试试？",feedback:()=>{H.writeLog("似乎不起作用"),H.random()}},{title:"喝点血试试？",feedback:()=>{H.writeLog("似乎不起作用"),H.random()}}]},{eventid:"attr_16",trigger:()=>H.Player.hasChoicedAttr(15),rare:10,msg:"滴答滴答。[末日时钟]",options:[{title:"你无能为力",feedback:()=>{C(18,20)||(H.writeLog("时钟往前走了一格"),C(18,20)||(H.writeLog("……于是午夜降临"),H.writeLog("末日突如其来，整个世界走向崩坏"),H.fireEvent("die"))),H.random()}}]}]];b([{eventid:"die",title:"死亡",msg:"胜败乃兵家常事，少侠请重新来过",options:[{title:"……让我重开",feedback:()=>{window.location.reload()}}]},{eventid:"noticeAndDetail",title:"这倒霉玩意还在开发中，现在只有史莱姆，史莱姆，还有史莱姆",feedback:()=>{H.random()},list:[{msg:"这倒霉玩意还在开发中，现在只有史莱姆，史莱姆，还有史莱姆"},{msg:"拿起长剑"},{msg:"披上甲胄"},{msg:"带着补给"}]},{eventid:"testevent_1",title:"测试事件1",msg:()=>{var e;return`你的名字叫${null==(e=null==H?void 0:H.Player)?void 0:e.name}?`},options:[{title:()=>{var e;return console.log(H.Player),`是的，请称呼我为 ${null==(e=null==H?void 0:H.Player)?void 0:e.name}`},feedback:()=>{H.fireEvent("bootcamp_1")}},{title:"其实我叫李狗蛋",feedback:()=>{H.Player.name="李狗蛋",H.fireEvent("bootcamp_2"),H.writeLog("从此被称作李狗蛋")}}]},{eventid:"testevent_3",title:"测试事件3",feedback:()=>{H.fireEvent("testevent_4")},list:[{msg:"拿起长剑"},{msg:"披上甲胄"},{msg:"带着补给"}]},{eventid:"testevent_4",title:"测试事件3",feedback:()=>{H.fireEvent("testevent_5")},list:[{msg:"长剑*1"},{msg:"皮甲*1"},{msg:"补给*3"}]},{eventid:"bootcamp_1",title:"测试事件5",feedback:()=>{console.log(H),H.fireEvent("bootcamp_2")},list:(k="你曾经听闻过这样的情况\r\n有些无良的厂商，居然把尚未做完的游戏上架贩卖\r\n而且售价不菲\r\n收取了你的时间，精力和金钱后\r\n把你丢在一个坑里，扬长而去\r\n画饼，他们只知道画饼\r\n你觉得，自己又被这样的饼欺骗了\r\n但异界转生科技有限公司并非那种无良的商人，当你垂头丧气时，一只肥硕的狸花猫出现在无边的荒原上\r\n“让我看看，你选了什么……”\r\n“嚯——”",k.split(/\n/).map((e=>({msg:e}))))},{eventid:"bootcamp_2",title:"",feedback:()=>{console.log("end")},list:[{msg:()=>`你的种族是${H.Player.race||"人类"}`},{msg:()=>{switch(H.Player.groupAttrFocusList[0]||3){case 1:return"“居然想当魔物，灵魂会渐渐腐坏哦。”";case 2:return"“居然想当混血儿，异界可不像地球这么宽松哦。”";case 3:return"“人类啊……很稳妥的决定呢。”";case 4:return"“长生种没有想象中那么好，如果要挑选伴侣，不要找短生种。”";case 5:return"“其实幻想种的属性没有宣传单上那么高，都是市场部……不不不我什么都没说，已经不能退款了”"}return"???"}},{msg:()=>"补给*3"}]}]);const P=b(w),_=b(E),q=[],A=[{eventid:"0"},{eventid:"1",msg:"test",list:[{msg:"1"},{msg:"2"}],feedback(){}}],x=[{eventid:"init",msg:"初始化",sleep:!1,options:[{msg:"choice_1",feedback(){H.addCardGroup("school_knight"),q.push("start"),H.drawCard("school_1")}}]}].map((e=>o(l({},e),{eventid:`school_${e.eventid}`}))),N=A.map(((e,t)=>o(l({},e),{eventid:`school_${e.eventid}`}))),I={flag:q,list:[...x,...N]},S="decapitate_",M=[];let j=20;const O=[{eventid:"0",msg:()=>M.indexOf("enemy_of_order")>=0?"一群精灵弓手和人类剑士挡在了你面前":"一群强兽人矛手和恶魔剑士挡在了你面前",options:[{msg:"宰了他们！",feedback(){if(C(15,20)){if(j-=L(3),j<=0)return H.writeLog("经过漫长，残酷的血战，你把挡在你面前的人都杀光了"),H.writeLog("你在追兵赶来之前逃离了刑场，遁入了深山"),void H.random();if(H.writeLog("你把他们都击退了"),C(15,20))return void H.writeLog("而且很幸运，你并没有受伤");if(H.writeLog("但你也受了伤"),M.indexOf("fatal_injury")>=0)return H.writeLog("你精疲力竭，伤痕累累，被砍倒在地"),void H.fireEvent("die");if(M.indexOf("seriously_injure")>=0)return H.writeLog("鲜血模糊了你的视线，仅凭最后的求生欲支撑着"),void M.push("fatal_injury");if(M.indexOf("abrasion")>=0)return H.writeLog("你挨了狠狠的一下，似乎某处的骨头已经断了"),void M.push("seriously_injure");M.push("abrasion")}else if(j-=1,C(15,20)){if(M.indexOf("fatal_injury")>=0)return H.writeLog("你精疲力竭，伤痕累累，被砍倒在地"),void H.fireEvent("die");if(M.indexOf("seriously_injure")>=0)return H.writeLog("鲜血模糊了你的视线，仅凭最后的求生欲支撑着"),void M.push("fatal_injury");if(M.indexOf("abrasion")>=0)return H.writeLog("你挨了狠狠的一下，似乎某处的骨头已经断了"),void M.push("seriously_injure");M.push("abrasion")}else H.writeLog("鲜血模糊了你的视线"),H.fireEvent("die")}}]}],$=[{eventid:"init",msg:"你睁开双眼时，马车的轱辘碾过碎石和深坑，颠簸蹂躏着你的屁股。",sleep:!0,options:[{msg:"“怎么回事？”",feedback(){M.push("start"),H.drawCard(S+"init_1"),H.sleepCard(S+"init")}}]},{eventid:"init_1",msg:"test",sleep:!0,list:[{msg:"“哦，你醒了？他们要砍了我们的头，或许你一直昏迷才好，不用再遭罪。”"},{msg:"那个人和你一样被五花大绑。"},{msg:"“下车，都下车！”"},{msg:"马车在刑场边停下，你们被狱卒赶了下去。"}],feedback(){H.drawCard(S+"init_2")}},{eventid:"init_2",sleep:!0,msg:()=>H.Player.racelv>=3?"身披附魔盔甲的恶魔和强兽人正在断头台前执勤，驾驭飞龙的骑手正在天空中盘旋，投下的阴影不时从你头顶掠过。":(M.push("enemy_of_order"),"身披重甲的士兵簇拥着刽子手，他们正在染血的断头台前执勤。环绕在刑场而建的高塔上，站着数个纤细的身影。"),options:[{msg:"静观其变",feedback(){H.drawCard(S+"init_3")}},{msg:"想办法逃跑",feedback(){H.drawCard(S+"init_4")}},{msg:"求饶",feedback(){H.writeLog("你的哭泣和哀求毫无意义，你被押上了断头台，咔嚓——"),H.fireEvent("die")}}]},{eventid:"init_3",sleep:!0,msg:()=>"你发现刑场守卫森严，至少有上百名士兵驻守在此地。你不知道这些异族战士的实力比起地球人如何，但显然不是你能轻易对付的。",options:[{msg:()=>"想办法逃跑",feedback(){H.drawCard(S+"init_4")}}]},{eventid:"init_4",sleep:!0,msg:"可是想逃跑又何尝是一件简单的事？你决定……",options:[{msg:()=>"挣脱束缚，杀出一条血路",feedback(){H.drawCard()}},{trigger:()=>H.Player.hasChoicedAttr(18),msg:()=>"天上……是不是有什么东西？[巨龙使徒]",feedback(){H.drawCard("")}}]},{eventid:"init_dargon_friend",sleep:!0,msg:()=>M.indexOf("enemy_of_order")>=0?"山岳般巨大的龙从云隙间坠落，像陨石一样砸落在人群之中，箭塔上的精灵弓箭手们在反应过来之前，可怕的吐息已经将他们淹没":"山岳般巨大的龙披着霞光落入强兽人方阵中，口中还叼着半截双足飞龙的残躯，一个恶魔的尸体正在龙的前爪中消融",options:[{msg:"老天",feedback(){H.writeLog("龙把你从人群中一把捞走，振翅高飞。"),H.writeLog("你逃出生天了，但你的巨龙朋友随手把你丢在了野外"),H.random()}}]}].map((e=>o(l({},e),{eventid:`decapitate_${e.eventid}`}))),F=O.map(((e,t)=>o(l({},e),{eventid:`decapitate_${e.eventid}`}))),V={flag:M,list:[...$,...F]},R=new Map([["school",I],["decapitate",V]]),G=s({focusEvent:void 0,fireEvent(e){this.focusEvent=this.findEvent(e)},fire(e){this.fireEvent(e)},eventstack:[P],randomEventStack:[_],cardStack:[],findEvent(e){for(let t of this.eventstack)for(let[r,a]of t)if(a.eventid===e)return a;for(let t of this.randomEventStack)for(let[r,a]of t)if(a.eventid===e)return a;return this.eventstack[0].get(e)},cardRiver:[],addCardGroup(e){const t=R.get(e);if(t){this.cardStack.push(t),this.river=[];for(const e of this.cardStack)for(let t of e.list)if(t.number>=2)for(let e=0;e<t.number;t++)this.river.push(t);else this.river.push(t)}},clearCardGroup(){this.cardStack=[],this.river=[]},drawCard(e=""){const t=this.river;if(e)this.focusEvent=this.selectCard(e);else for(let r=0;r<10;r++){const e=t[Math.floor(Math.random()*t.length)];if(!(2*Math.random()*((null==e?void 0:e.rare)||0)>1))return"trigger"in e?e.trigger()?void(this.focusEvent=e):void this.drawCard():"sleep"in e&&e.sleep?void this.drawCard():void(this.focusEvent=e)}},selectCard(e){const t=this.river;for(const r of t)if(e==r.eventid)return r},sleepCard(e){this.selectCard(e).sleep=!0},wakeCard(e){this.selectCard(e).sleep=!1},random(){const e=[];for(let t of this.randomEventStack)for(let[r,a]of t)e.push(a);for(let t=0;t<10;t++){const t=e[Math.floor(Math.random()*e.length)];if(!(2*Math.random()*((null==t?void 0:t.rare)||0)>1)){if(!("trigger"in t))return void(this.focusEvent=t);if(t.trigger(G))return void(this.focusEvent=t)}}this.random()},log:[],writeLog(e){this.log.push(e)},Player:{choicedAttrList:[],groupAttrFocusList:[],curserEquipmentList:[],hasCurserEquipment(e){return this.curserEquipmentList.indexOf(e)>=0},hasChoicedAttr(e){return this.choicedAttrList.indexOf(e)>=0},race:"",name:"",attr:{str:10,dex:10,con:10,int:10,wis:10,cha:10}},env:{},initPlayer(e){const{choicedAttrList:t,groupAttrFocusList:r,curserEquipmentList:a}=e;this.Player.choicedAttrList=t,this.Player.groupAttrFocusList=r,this.Player.curserEquipmentList=a,this.Player.attr={str:5*r[5]||10,dex:5*r[6]||10,con:5*r[7]||10,int:5*r[8]||10,wis:5*r[9]||10,cha:5*r[10]||10},this.Player.luck=r[11]-1}});var H=G;const T=c.exports.jsx,D=c.exports.jsxs,B=c.exports.Fragment,K=({choicedAttrList:e,groupAttrFocusList:t,curserEquipmentList:r,start:a})=>{const i=[];u.exports.useState(!1);const d=[],n=function(e){const t=e[0].focus,r=[[],["炼狱红龙幼崽","深渊亚龙幼崽","小恶魔","魅魔","变异史莱姆幼崽","红龙幼崽","绿龙幼崽","蓝龙幼崽","白龙幼崽","黑龙幼崽"],["野兽人","半兽人","半精灵","半巨魔","吸血鬼衍体","深潜者"],["山民","农民","牧民","渔民"],["高等精灵","月精灵","白矮人","魔偶","不朽圣者","圣灵古树","半龙人"],["金龙","元素领主","高等九头蛇蜥","青铜龙","铂金龙","红铜龙","黄铜龙","银龙","凤凰"]][t],a=r[Math.floor(Math.random()*r.length)];H.Player.race=3===t?"人类":a;return H.Player.raceLV=t,`(${a||"普通模式种"})`}(f);for(const o of e)for(const e of h)if(o===e.id){const t={};e.rare&&e.rare>=1&&(t.background="#ff6aca"),i.push(D("mark",{style:t,className:e.value>=0?"tertiary":"secondary",children:[" ",e.name," "]}))}for(const o of r)for(const e of y)if(o===e.id){const t={};e.rare&&e.rare>=1&&(t.background="#ff6aca"),d.push(D("mark",{style:t,className:e.value>=0?"tertiary":"secondary",children:[" ",e.name," "]}))}const l=u.exports.useRef();return D("div",{className:"character-card",children:[D("div",{children:["姓名:",T("input",{onChange:e=>{var t;l.current=(null==(t=null==e?void 0:e.target)?void 0:t.value)||""}})]}),T("div",{children:f.map(((e,r)=>{if(e.focus=t[r],0===e.focus)for(const t of e.list)if(0===t.value)return D("div",{children:[e.detail,":",D("mark",{className:t.value>=0?"tertiary":"secondary",children:[t.name,1===e.groupId&&n]})]},e.groupId);for(const t of e.list)if(t.id===e.focus)return D("div",{children:[e.detail,":",D("mark",{className:t.value>=0?"tertiary":"secondary",children:[t.name,1===e.groupId&&n]})]},e.groupId);return D("div",{children:[e.detail,":"]},e.groupId)}))}),D("div",{children:["属性:",i]}),D("div",{children:["装备:",d]}),T("br",{}),T("br",{}),T("br",{}),T("button",{className:"tertiary",onClick:()=>{H.Player.name=l.current||"",a()},children:"一键转生"}),T("a",{target:"_blank",href:"https://afdian.net/@dmdlh",children:T("button",{className:"inverse",children:"一键氪金"})})]})};const z=({event:e,finish:t})=>{var r;if(void 0===e)return T(B,{});if(function(e){return"options"in e}(e)){const{msg:t}=e,a=Q(t);return D("div",{children:[T("div",{children:a}),T("div",{children:null==(r=null==e?void 0:e.options)?void 0:r.map(((e,t)=>{if(e.trigger&&!e.trigger())return T(B,{});const r=Q(e.title||e.msg);return T("button",{onClick:()=>{H.writeLog(a||""),H.writeLog("> "+r),null==e||e.feedback(H),U()},children:r},t)}))})]})}if(function(e){return"list"in e}(e))return T(J,{list:e.list,feedback:()=>{var t;null==(t=null==e?void 0:e.feedback)||t.call(e,H)}});if("msg"in e){const{msg:t}=e;return D("div",{children:[T("div",{children:Q(t)}),T("div",{children:T("button",{onClick:()=>{H.random(),H.writeLog(Q(t)),U()},children:"..."})})]})}return T(B,{})},J=({list:e,feedback:t})=>{const[r,a]=u.exports.useState(),i=u.exports.useRef(0);return u.exports.useEffect((()=>(a(null==e?void 0:e[0]),()=>{i.current=0})),[e]),D("div",{children:[T("div",{children:Q(null==r?void 0:r.msg)}),T("div",{children:T("button",{onClick:()=>{i.current++;const d=Q(null==r?void 0:r.msg);i.current==e.length?(t(),H.writeLog(d||""),a(e[i.current])):i.current>e.length||(H.writeLog(d||""),a(e[i.current])),U()},children:"..."})})]})};function Q(e){return("string"==typeof e?e:e&&e(H))||""}function U(){setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight)}),200)}const W=({choicedAttrList:e,groupAttrFocusList:t,curserEquipmentList:r})=>{u.exports.useEffect((()=>{H.initPlayer({choicedAttrList:e,groupAttrFocusList:t,curserEquipmentList:r})}),[]);const[a,i]=u.exports.useState(),[d,n]=u.exports.useState();return u.exports.useEffect((()=>{H.fireEvent("dev_notice"),m((()=>{var e;(null==(e=H.focusEvent)?void 0:e.eventid)!==(null==a?void 0:a.eventid)&&i(H.focusEvent)})),m((()=>{let e=H.log;[...e].length>=1e3&&e.slice(e.length-800,e.length),n([...e])}))}),[]),T("div",{children:D("div",{className:"battle-content",children:[T("div",{className:"log",children:H.log.map(((e,t)=>T("div",{children:e},t)))}),T(z,{event:a})]})})};console.log("杀不死你的，会让你更强大……虽然会很痛");const X=u.exports.createContext(30),Y=h.filter((e=>{const{name:t,detail:r,value:a,id:i}=e,d=Math.random();return!(e.rare&&(null==e?void 0:e.rare)>=1&&d<1/(5*e.rare))&&(!(Math.random()*a*a>a*a/2)&&e)})),Z=y.filter((e=>!(e.rare&&(null==e?void 0:e.rare)>=1&&Math.random()<1/(5*e.rare))&&e));function ee(){const[e,t]=u.exports.useState(!1);u.exports.useEffect((()=>{"1"===localStorage.getItem("devpanel")&&t(!0)}),[]);const[r,a]=u.exports.useState(30),[i,d]=u.exports.useState([]),[n,l]=u.exports.useState([]);return u.exports.useEffect((()=>{v.on("changePoint",(e=>{a(e)})),v.on("deleteAttr",(e=>{}))}),[]),u.exports.useEffect((()=>(v.on("addAttr",(e=>{const t=[...i,e];d(t)})),v.on("deleteAttr",(e=>{const t=i.filter((t=>t!==e));d(t)})),()=>{v.off("addAttr"),v.off("deleteAttr")})),[i]),u.exports.useEffect((()=>(v.on("addCursesEquipment",(e=>{const t=[...n,e];l(t)})),v.on("deleteCursesEquipment",(e=>{const t=n.filter((t=>t!==e));l(t)})),()=>{v.off("addCursesEquipment"),v.off("deleteCursesEquipment")})),[n]),D(B,{children:[e?T(W,{choicedAttrList:i,groupAttrFocusList:f.map((e=>e.focus)),curserEquipmentList:[...n]}):T(X.Provider,{value:r,children:T(X.Consumer,{children:e=>D("div",{className:"App",children:[T("h1",{children:"异界转生加点系统模拟器v0.1.7.远航版"}),T("h2",{children:"你刚刚结束了无聊的一生"}),T("h2",{children:"现在有一个异界转生的机会"}),D("h2",{children:["请用这",T("span",{className:"green",children:"30点"}),"点数在下列选项中购买需要的属性"]}),D("h2",{children:["如果觉得点数不够，且愿意献祭自身，获得诅咒，那么可以通过",T("span",{className:"red",children:"负面特质"}),"来获得额外点数"]}),/nyar/.test(window.location.href)&&D("h3",{children:["您可以尝试",T("a",{href:"http://yuanshen.io",children:"http://yuanshen.io"}),"这一更简短的域名来访问"]}),T("h3",{children:"冒险模式开发中……"}),T("h3",{children:"更新：开局被砍头事件组开始测试"}),D("div",{className:"now-point",children:["剩余可用点数：",e]}),T(te,{}),T(K,{choicedAttrList:i,groupAttrFocusList:f.map((e=>e.focus)),curserEquipmentList:[...n],start:()=>{t(!0)}}),D("div",{children:["made by ",T("a",{href:"https://space.bilibili.com/81922/",children:"冬眠的龙凰"})," ",T("a",{href:"https://www.duread8.com/book/book_detail/100180354",children:"支持作者"})," ",T("a",{target:"_blank",href:"https://jq.qq.com/?_wv=1027&k=7S8PSHaN",children:"冒险者工会（qq群号：118923877）"})]}),T("div",{children:"（后续在做了……）"})]})})}),!1]})}const te=()=>D("div",{className:"content row",children:[f.map((e=>{const{detail:t,list:r,groupId:a}=e;return D(u.exports.Fragment,{children:[T("div",{className:"checkbox-detail",children:T("pre",{className:"doc",children:t})}),T(re,{groupId:a,list:r})]},a)})),Y.map((e=>T(ae,{data:e,addItem:e=>{v.emit("addAttr",e.id)},deleteItem:e=>{v.emit("deleteAttr",e.id)}},e.id))),D("div",{className:"checkbox-holder",children:[T("pre",{className:"doc col-md-12 col-sm-12",children:"被诅咒的物品，无论是天命之人还是衰仔都会被它们坑，童叟无欺，一视同仁"}),Z.map((e=>T(ae,{data:e,addItem:e=>{v.emit("addCursesEquipment",e.id)},deleteItem:e=>{v.emit("deleteCursesEquipment",e.id)}},e.id)))]}),T("div",{})]}),re=({list:e,groupId:t})=>{const[r,a]=u.exports.useState(0),i=u.exports.useRef(0);return T(X.Consumer,{children:d=>T("div",{className:"checkbox-holder",children:e.map((e=>{const{name:n,detail:l,value:o,id:s}=e;let c=d<o-i.current;return T("div",{className:"checkbox-item  col-md-3 col-sm-4",onClick:()=>{c||(!function(e,t){for(let r of f)if(e===r.groupId){r.focus=t;break}}(t,s),v.emit("changePoint",d-(o-i.current)),a(s),i.current=o)},children:T(ie,{id:s||0,name:n||"",detail:l||"",value:o||0,lock:c,focus:r===s})},s)}))})})},ae=({data:e,addItem:t,deleteItem:r})=>{const[a,i]=u.exports.useState(!1),{name:d,detail:n,value:l}=e;return T(X.Consumer,{children:o=>D("div",{className:` button-block ${o<l&&!a?"lock":""} ${a?"have":""} col-md-3 col-sm-4`,onClick:()=>{o<l&&!a||a&&o+l<0||(i(!a),v.emit("changePoint",a?o+l:o-l),a?r(e):t(e))},children:[T("input",{type:"button",className:a?"tertiary":"inverse",value:d}),T("div",{className:"point-value",children:D("mark",{className:l>=0?"secondary":"tertiary",children:[l>=0?"":"+",-1*l]})}),T("div",{className:"detail",dangerouslySetInnerHTML:{__html:n}})]})})},ie=({name:e,detail:t,id:r,value:a,lock:i,focus:d})=>T(X.Consumer,{children:r=>D("div",{className:`button-block ${i?"lock":""} ${d?"have":""}`,children:[T("input",{type:"button",className:d?"tertiary":"inverse",value:e}),T("div",{className:"point-value",children:D("mark",{className:a>=0?"secondary":"tertiary",children:[a>=0?"":"+",-1*a]})}),T("div",{className:"detail",children:t})]})});p.render(T(g.StrictMode,{children:T(ee,{})}),document.getElementById("root"));
